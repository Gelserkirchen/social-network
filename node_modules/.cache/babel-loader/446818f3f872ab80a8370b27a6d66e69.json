{"ast":null,"code":"import { profileAPI } from '../../api/api';\nconst ADD_POST = 'ADD_POST';\nconst SET_USERS_PROFILE = 'SET_USERS_PROFILE';\nconst GET_USER_PROFILE_STATUS = 'GET_USER_PROFILE_STATUS';\nexport const addPostAction = text => ({\n  type: ADD_POST,\n  value: text\n});\nexport const setProfileUsersAction = profile => ({\n  type: SET_USERS_PROFILE,\n  value: profile\n});\nexport const getProfileStatusAction = value => ({\n  type: GET_USER_PROFILE_STATUS,\n  status: value\n});\nconst initialState = {\n  PostsData: [{\n    id: '1',\n    message: 'Hi it is my first post'\n  }, {\n    id: '2',\n    message: 'This is second post'\n  }],\n  profile: null,\n  status: \"\"\n};\n\nconst profileReducer = (state = initialState, action) => {\n  if (!action) {\n    return;\n  }\n\n  switch (action.type) {\n    case ADD_POST:\n      return { ...state,\n        PostsData: [...state.PostsData, {\n          id: action.id,\n          message: action.value,\n          likes: '0'\n        }]\n      };\n\n    case SET_USERS_PROFILE:\n      return { ...state,\n        profile: action.value\n      };\n\n    case GET_USER_PROFILE_STATUS:\n      return { ...state,\n        status: action.status\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default profileReducer; // Thunk for get profile \n\nexport const getProfile = userId => {\n  return async dispatch => {\n    const response = await profileAPI.getUsersProfile(userId);\n    dispatch(setProfileUsersAction(response.data));\n  };\n}; // Thunk for get profile \n\nexport const getProfileStatus = userId => {\n  return async dispatch => {\n    const response = await profileAPI.getStatus(userId);\n    dispatch(getProfileStatusAction(response.data));\n  };\n}; // Thunk for updating profile status\n\nexport const updateProfileStatus = status => {\n  return async dispatch => {\n    const response = await profileAPI.updateStatus(status);\n\n    if (response.data.resultCode === 0) {\n      dispatch(getProfileStatusAction(status));\n    }\n  };\n}; // Thunk for add post form messages in profile\n\nexport const addPost = text => {\n  return dispatch => {\n    dispatch(addPostAction(text));\n  };\n};","map":{"version":3,"sources":["/Users/tolstyhandrejaleksandrovic/Documents/GitHub/social-network/src/redux/reducers/profileReducer.js"],"names":["profileAPI","ADD_POST","SET_USERS_PROFILE","GET_USER_PROFILE_STATUS","addPostAction","text","type","value","setProfileUsersAction","profile","getProfileStatusAction","status","initialState","PostsData","id","message","profileReducer","state","action","likes","getProfile","userId","dispatch","response","getUsersProfile","data","getProfileStatus","getStatus","updateProfileStatus","updateStatus","resultCode","addPost"],"mappings":"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","sourcesContent":["import { profileAPI } from '../../api/api'\n\nconst ADD_POST = 'ADD_POST'\nconst SET_USERS_PROFILE = 'SET_USERS_PROFILE'\nconst GET_USER_PROFILE_STATUS = 'GET_USER_PROFILE_STATUS'\n\nexport const addPostAction = (text) => ({\n  type: ADD_POST,\n  value: text\n})\n\nexport const setProfileUsersAction = (profile) => (\n  {type: SET_USERS_PROFILE,\n   value: profile}\n)\n\nexport const getProfileStatusAction = (value) => ({\n  type: GET_USER_PROFILE_STATUS,\n  status: value\n})\n\nconst initialState = {\n  PostsData: [\n    {id: '1', message: 'Hi it is my first post'},\n    {id: '2', message: 'This is second post'}\n  ],\n  profile: null,\n  status: \"\"\n}\n\nconst profileReducer = (state = initialState, action) => {\n  if (!action) {\n    return \n  }\n\n  switch (action.type) {\n    case ADD_POST:\n      return {\n        ...state,\n        PostsData: [...state.PostsData, {id: action.id, message: action.value, likes: '0'}],\n      }\n\n    case SET_USERS_PROFILE:\n      return {\n        ...state,\n        profile: action.value\n      }\n\n    case GET_USER_PROFILE_STATUS:\n      return {\n        ...state,\n        status: action.status\n      }  \n    \n    default:\n      return state\n  }\n}\n\nexport default profileReducer\n\n// Thunk for get profile \nexport const getProfile = (userId) => {\n  return async (dispatch) => {\n    const response = await profileAPI.getUsersProfile(userId);\n    dispatch(setProfileUsersAction(response.data))\n  }\n}\n\n// Thunk for get profile \nexport const getProfileStatus = (userId) => {\n  return async (dispatch) => {\n    const response = await profileAPI.getStatus(userId)\n    dispatch(getProfileStatusAction(response.data))\n  }\n}\n\n// Thunk for updating profile status\nexport const updateProfileStatus = (status) => {\n  return async (dispatch) => {\n    const response = await profileAPI.updateStatus(status)\n    if (response.data.resultCode === 0) {\n      dispatch(getProfileStatusAction(status))\n    }\n  }\n}\n\n// Thunk for add post form messages in profile\nexport const addPost = (text) => {\n  return (dispatch) => {\n    dispatch(addPostAction(text))\n  }\n}"]},"metadata":{},"sourceType":"module"}