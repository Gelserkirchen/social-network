{"ast":null,"code":"import { profileAPI } from '../../api/api';\nconst ADD_POST = 'ADD_POST';\nconst SET_USERS_PROFILE = 'SET_USERS_PROFILE';\nconst GET_USER_PROFILE_STATUS = 'GET_USER_PROFILE_STATUS';\nexport const addPostAction = text => ({\n  type: ADD_POST,\n  value: text\n});\nexport const setProfileUsersAction = profile => ({\n  type: SET_USERS_PROFILE,\n  value: profile\n});\nexport const getProfileStatusAction = value => ({\n  type: GET_USER_PROFILE_STATUS,\n  status: value\n});\nconst initialState = {\n  PostsData: [{\n    id: '1',\n    message: 'Hi it is my first post'\n  }, {\n    id: '2',\n    message: 'This is second post'\n  }],\n  profile: {\n    photos: {\n      small: null,\n      large: null\n    }\n  },\n  status: \"\"\n};\n\nconst profileReducer = (state = initialState, action) => {\n  if (!action) {\n    return;\n  }\n\n  switch (action.type) {\n    case ADD_POST:\n      return { ...state,\n        PostsData: [...state.PostsData, {\n          id: action.id,\n          message: action.value,\n          likes: '0'\n        }]\n      };\n\n    case SET_USERS_PROFILE:\n      return { ...state,\n        profile: action.value\n      };\n\n    case GET_USER_PROFILE_STATUS:\n      return { ...state,\n        status: action.status\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default profileReducer; // Thunk for get profile \n\nexport const getProfile = userId => {\n  return async dispatch => {\n    const response = await profileAPI.getUsersProfile(userId);\n    dispatch(setProfileUsersAction(response.data));\n  };\n}; // Thunk for get profile \n\nexport const getProfileStatus = userId => {\n  return async dispatch => {\n    const response = await profileAPI.getStatus(userId);\n    dispatch(getProfileStatusAction(response.data));\n  };\n}; // Thunk for updating profile status\n\nexport const updateProfileStatus = status => {\n  return async dispatch => {\n    const response = await profileAPI.updateStatus(status);\n\n    if (response.data.resultCode === 0) {\n      dispatch(getProfileStatusAction(status));\n    }\n  };\n}; // Thunk for updating profile status\n\nexport const savePhoto = file => {\n  return async dispatch => {\n    const response = await profileAPI.savePhoto(file);\n\n    if (response.data.resultCode === 0) {\n      dispatch(getProfileStatusAction(status));\n    }\n  };\n}; // Thunk for add post form messages in profile\n\nexport const addPost = text => {\n  return dispatch => {\n    dispatch(addPostAction(text));\n  };\n};","map":{"version":3,"sources":["/Users/tolstyhandrejaleksandrovic/Documents/GitHub/social-network/src/redux/reducers/profileReducer.js"],"names":["profileAPI","ADD_POST","SET_USERS_PROFILE","GET_USER_PROFILE_STATUS","addPostAction","text","type","value","setProfileUsersAction","profile","getProfileStatusAction","status","initialState","PostsData","id","message","photos","small","large","profileReducer","state","action","likes","getProfile","userId","dispatch","response","getUsersProfile","data","getProfileStatus","getStatus","updateProfileStatus","updateStatus","resultCode","savePhoto","file","addPost"],"mappings":"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","sourcesContent":["import { profileAPI } from '../../api/api'\n\nconst ADD_POST = 'ADD_POST'\nconst SET_USERS_PROFILE = 'SET_USERS_PROFILE'\nconst GET_USER_PROFILE_STATUS = 'GET_USER_PROFILE_STATUS'\n\nexport const addPostAction = (text) => ({\n  type: ADD_POST,\n  value: text\n})\n\nexport const setProfileUsersAction = (profile) => (\n  {type: SET_USERS_PROFILE,\n   value: profile}\n)\n\nexport const getProfileStatusAction = (value) => ({\n  type: GET_USER_PROFILE_STATUS,\n  status: value\n})\n\nconst initialState = {\n  PostsData: [\n    {id: '1', message: 'Hi it is my first post'},\n    {id: '2', message: 'This is second post'}\n  ],\n  profile: {\n    photos: {\n      small: null,\n      large: null\n    },\n  },\n  status: \"\"\n}\n\nconst profileReducer = (state = initialState, action) => {\n  if (!action) {\n    return \n  }\n\n  switch (action.type) {\n    case ADD_POST:\n      return {\n        ...state,\n        PostsData: [...state.PostsData, {id: action.id, message: action.value, likes: '0'}],\n      }\n\n    case SET_USERS_PROFILE:\n      return {\n        ...state,\n        profile: action.value\n      }\n\n    case GET_USER_PROFILE_STATUS:\n      return {\n        ...state,\n        status: action.status\n      }  \n    \n    default:\n      return state\n  }\n}\n\nexport default profileReducer\n\n// Thunk for get profile \nexport const getProfile = (userId) => {\n  return async (dispatch) => {\n    const response = await profileAPI.getUsersProfile(userId);\n    dispatch(setProfileUsersAction(response.data))\n  }\n}\n\n// Thunk for get profile \nexport const getProfileStatus = (userId) => {\n  return async (dispatch) => {\n    const response = await profileAPI.getStatus(userId)\n    dispatch(getProfileStatusAction(response.data))\n  }\n}\n\n// Thunk for updating profile status\nexport const updateProfileStatus = (status) => {\n  return async (dispatch) => {\n    const response = await profileAPI.updateStatus(status)\n    if (response.data.resultCode === 0) {\n      dispatch(getProfileStatusAction(status))\n    }\n  }\n}\n\n// Thunk for updating profile status\nexport const savePhoto = (file) => {\n  return async (dispatch) => {\n    const response = await profileAPI.savePhoto(file)\n    if (response.data.resultCode === 0) {\n      dispatch(getProfileStatusAction(status))\n    }\n  }\n}\n\n// Thunk for add post form messages in profile\nexport const addPost = (text) => {\n  return (dispatch) => {\n    dispatch(addPostAction(text))\n  }\n}"]},"metadata":{},"sourceType":"module"}